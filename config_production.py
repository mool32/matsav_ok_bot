# config_production.py - –ü—Ä–æ–¥–∞–∫—à–µ–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

import os
from pathlib import Path

# =============================================================================
# –ü–†–û–î–ê–ö–®–ï–ù –ù–ê–°–¢–†–û–ô–ö–ò - –ù–ï –ö–û–ú–ú–ò–¢–¨–¢–ï –¢–û–ö–ï–ù–´ –í GIT!
# =============================================================================

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞ - –ë–ï–†–ï–¢–°–Ø –ò–ó –ü–ï–†–ï–ú–ï–ù–ù–û–ô –û–ö–†–£–ñ–ï–ù–ò–Ø –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
BOT_TOKEN = os.getenv('BOT_TOKEN', '–≤–∞—à_—Ç–æ–∫–µ–Ω_–∑–¥–µ—Å—å_–¥–ª—è_—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏')

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_ID = int(os.getenv('ADMIN_ID', '472118566'))

# =============================================================================
# –ü–£–¢–ò –ö –§–ê–ô–õ–ê–ú (–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞)
# =============================================================================

# –ë–∞–∑–æ–≤–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –ø—Ä–æ–µ–∫—Ç–∞
BASE_DIR = Path(__file__).parent

# –ü—É—Ç–∏ –∫ –¥–∞–Ω–Ω—ã–º (–∞–±—Å–æ–ª—é—Ç–Ω—ã–µ)
DATA_DIR = BASE_DIR / "data"
LOGS_DIR = BASE_DIR / "logs" 
BACKUPS_DIR = BASE_DIR / "backups"

# –°–æ–∑–¥–∞–µ–º –ø–∞–ø–∫–∏ –µ—Å–ª–∏ –∏—Ö –Ω–µ—Ç
DATA_DIR.mkdir(exist_ok=True)
LOGS_DIR.mkdir(exist_ok=True)
BACKUPS_DIR.mkdir(exist_ok=True)

# –§–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö
PHRASES_FILE = str(DATA_DIR / "phrases.txt")
USER_PHRASES_FILE = str(DATA_DIR / "user_phrases.csv")
USERS_FILE = str(DATA_DIR / "users.txt")
LOG_FILE = str(LOGS_DIR / "bot.log")
DB_FILE = str(DATA_DIR / "matsav_tov.db")

# =============================================================================
# –ü–†–û–î–ê–ö–®–ï–ù –ù–ê–°–¢–†–û–ô–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò
# =============================================================================

# –ë–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
MAX_MESSAGE_LENGTH = 200  # –ú–µ–Ω—å—à–µ –ª–∏–º–∏—Ç
MESSAGE_COOLDOWN = 600    # 10 –º–∏–Ω—É—Ç –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ (–±—ã–ª–æ 5)

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ä–∞—Å—Å—ã–ª–∫–∏ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –±–æ–ª—å—à–∏—Ö –Ω–∞–≥—Ä—É–∑–æ–∫)
DAILY_NOTIFICATIONS = 4

# =============================================================================
# –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨ –î–õ–Ø –°–ï–†–í–ï–†–ê
# =============================================================================

# –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –º–æ—â–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞)
BATCH_SIZE = int(os.getenv('BATCH_SIZE', '50'))     # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 50
BATCH_DELAY = float(os.getenv('BATCH_DELAY', '0.5')) # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0.5—Å

# –°–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö  
DB_POOL_SIZE = 20        # –ú–∞–∫—Å–∏–º—É–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
DB_TIMEOUT = 30          # –¢–∞–π–º–∞—É—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

# =============================================================================
# –õ–û–ì–ò–†–û–í–ê–ù–ò–ï –î–õ–Ø –ü–†–û–î–ê–ö–®–ï–ù–ê  
# =============================================================================

# –£—Ä–æ–≤–µ–Ω—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (INFO –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞, DEBUG –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
LOG_LEVEL = os.getenv('LOG_LEVEL', 'INFO')

# –†–∞–∑–º–µ—Ä –ª–æ–≥-—Ñ–∞–π–ª–æ–≤
LOG_MAX_SIZE = 50 * 1024 * 1024  # 50MB
LOG_BACKUP_COUNT = 10            # –•—Ä–∞–Ω–∏–º 10 —Ñ–∞–π–ª–æ–≤ = 500MB –ª–æ–≥–æ–≤

# =============================================================================
# –°–¢–û–ü-–°–õ–û–í–ê (—Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫)
# =============================================================================

STOP_WORDS = [
    # –û—Å–Ω–æ–≤–Ω—ã–µ
    "–¥—É—Ä–∞–∫", "–∏–¥–∏–æ—Ç", "—É—Ä–æ–¥", "—Å—É–∫–∞", "–±–ª—è–¥—å", "–ø–∏–∑–¥–µ—Ü",
    "—Ö—É–π", "–µ–±–∞—Ç—å", "–≥–æ–≤–Ω–æ", "–º—É–¥–∞–∫", "–ø–∏–¥–æ—Ä", "–¥–µ–±–∏–ª", 
    "–µ–±–∞–Ω—ã–π", "—Ö—Ä–µ–Ω", "—á–µ—Ä—Ç",
    
    # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
    "—Ä–µ–∫–ª–∞–º–∞", "–ø—Ä–æ–¥–∞–∂–∞", "–∫—É–ø–∏—Ç—å", "—Å–∫–∏–¥–∫–∞", "–∞–∫—Ü–∏—è",
    "—Ç–µ–ª–µ–≥—Ä–∞–º", "–∫–∞–Ω–∞–ª", "–ø–æ–¥–ø–∏—Å–∫–∞", "–ª–∞–π–∫", "—Ä–µ–ø–æ—Å—Ç",
    "–¥–µ–Ω—å–≥–∏", "–¥–æ—Ö–æ–¥", "–∑–∞—Ä–∞–±–æ—Ç–æ–∫", "–º–ª–Ω", "–¥–æ–ª–ª–∞—Ä",
    "–±–∏—Ç–∫–æ–∏–Ω", "–∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç", "–∏–Ω–≤–µ—Å—Ç–∏—Ü", "—Ç—Ä–µ–π–¥–∏–Ω–≥",
    
    # –°–ø–∞–º
    "–ø–µ—Ä–µ—Ö–æ–¥–∏", "—Å—Å—ã–ª–∫–∞", "http", "www", "bit.ly",
    "–∂–º–∏", "–∫–ª–∏–∫–∞–π", "–ø–µ—Ä–µ—Ö–æ–¥–∏", "—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä"
]

# =============================================================================
# –¢–ï–ö–°–¢–´ –ò–ù–¢–ï–†–§–ï–ô–°–ê
# =============================================================================

WELCOME_MESSAGE = """–ì–æ—Ç–æ–≤–æ.
–¢–µ–ø–µ—Ä—å —è –±—É–¥—É –∏–Ω–æ–≥–¥–∞ –ø–∏—Å–∞—Ç—å —Ç–µ–±–µ —á—Ç–æ-—Ç–æ —Å–≤–µ—Ç–ª–æ–µ."""

PHRASE_REQUEST_MESSAGE = """–ù–∞–ø–∏—à–∏ —á—Ç–æ-—Ç–æ –∫–æ—Ä–æ—Ç–∫–æ–µ, —á—Ç–æ –º–æ–∂–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –¥—Ä—É–≥–æ–≥–æ.
–≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –º—ã—Å–ª—å, —Ñ—Ä–∞–∑–∞, –º–µ—Ç–æ–¥, —à—É—Ç–∫–∞, —á—Ç–æ —É–≥–æ–¥–Ω–æ.
–ì–ª–∞–≤–Ω–æ–µ ‚Äî —á—Ç–æ–±—ã —Å—Ç–∞–ª–æ —á—É—Ç—å –ª–µ–≥—á–µ."""

PHRASE_THANKS_MESSAGE = """–°–ø–∞—Å–∏–±–æ!
–°–æ—Ö—Ä–∞–Ω–∏–ª–∏ ‚Äî –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–¥–∞–¥–∏–º –¥–∞–ª—å—à–µ, –≤ —Å–∞–º—ã–π –ø–æ–¥—Ö–æ–¥—è—â–∏–π –º–æ–º–µ–Ω—Ç."""

# =============================================================================
# –ú–û–ù–ò–¢–û–†–ò–ù–ì –ò –ê–õ–ï–†–¢–´
# =============================================================================

# Email –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤ (–µ—Å–ª–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω)
ALERT_EMAIL = os.getenv('ALERT_EMAIL', '')

# –ü–æ—Ä–æ–≥–∏ –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤
ALERT_THRESHOLDS = {
    'error_rate': 10.0,           # % –æ—à–∏–±–æ–∫ –≤ —Ä–∞—Å—Å—ã–ª–∫–µ
    'memory_usage': 500.0,        # MB –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–∞–º—è—Ç–∏  
    'response_time': 5.0,         # —Å–µ–∫—É–Ω–¥ –Ω–∞ –æ—Ç–≤–µ—Ç
    'disk_usage': 90.0,           # % –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –¥–∏—Å–∫–∞
    'failed_notifications': 100   # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
}

# =============================================================================
# –†–ï–ñ–ò–ú –†–ê–ë–û–¢–´
# =============================================================================

# –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω
DEBUG = os.getenv('DEBUG', 'False').lower() in ('true', '1', 'yes')
PRODUCTION = not DEBUG

# –ï—Å–ª–∏ –ø—Ä–æ–¥–∞–∫—à–µ–Ω - –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
if PRODUCTION:
    LOG_LEVEL = 'WARNING'  # –ú–µ–Ω—å—à–µ –ª–æ–≥–æ–≤
    MESSAGE_COOLDOWN = 900  # 15 –º–∏–Ω—É—Ç
    
print(f"üîß –†–µ–∂–∏–º: {'–ü–†–û–î–ê–ö–®–ï–ù' if PRODUCTION else '–†–ê–ó–†–ê–ë–û–¢–ö–ê'}")
print(f"üìä –õ–æ–≥–∏: {LOG_LEVEL}")
print(f"üì¶ –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: {BATCH_SIZE}")
print(f"‚è∞ Cooldown: {MESSAGE_COOLDOWN // 60} –º–∏–Ω—É—Ç")